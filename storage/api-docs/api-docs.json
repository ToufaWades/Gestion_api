{
    "openapi": "3.0.0",
    "info": {
        "title": "Gestion des Comptes API",
        "description": "API pour la gestion des comptes, incluant toutes les opérations CRUD, archivage, blocage et déblocage.",
        "contact": {
            "email": "support@gestionapi.com"
        },
        "version": "1.0.0"
    },
    "paths": {
        "/api/v1/accounts": {
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Créer un compte bancaire avec client",
                "description": "Crée un utilisateur, un client et un compte bancaire avec validation stricte. On peut créer un compte uniquement pour un client déjà enregistré. Envoie un email et un SMS de confirmation.",
                "operationId": "a9239744b44ef1f6de5609fbca09c53f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "type",
                                    "soldeInitial",
                                    "devise",
                                    "solde",
                                    "client"
                                ],
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "cheque",
                                            "epargne"
                                        ],
                                        "example": "cheque"
                                    },
                                    "soldeInitial": {
                                        "type": "number",
                                        "minimum": 10000,
                                        "example": 500000
                                    },
                                    "devise": {
                                        "type": "string",
                                        "enum": [
                                            "FCFA",
                                            "XOF"
                                        ],
                                        "example": "FCFA"
                                    },
                                    "solde": {
                                        "type": "number",
                                        "minimum": 0,
                                        "example": 10000
                                    },
                                    "client": {
                                        "required": [
                                            "id",
                                            "titulaire",
                                            "nci",
                                            "email",
                                            "telephone",
                                            "adresse"
                                        ],
                                        "properties": {
                                            "id": {
                                                "description": "ID du client existant",
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "titulaire": {
                                                "type": "string",
                                                "example": "Fatou Wade"
                                            },
                                            "nci": {
                                                "type": "string",
                                                "pattern": "^[12][0-9]{12}$",
                                                "example": "1234567890123"
                                            },
                                            "email": {
                                                "type": "string",
                                                "format": "email",
                                                "example": "fatou.wade@example.com"
                                            },
                                            "telephone": {
                                                "type": "string",
                                                "pattern": "^\\\\+221(77|78|70|76|75)[0-9]{7}$",
                                                "example": "+221771234567"
                                            },
                                            "adresse": {
                                                "type": "string",
                                                "example": "Dakar, Sénégal"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Compte créé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte créé avec succès"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "123"
                                                },
                                                "numeroCompte": {
                                                    "type": "string",
                                                    "example": "ACC-20251029-1234"
                                                },
                                                "titulaire": {
                                                    "type": "string",
                                                    "example": "Fatou Wade"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "cheque"
                                                },
                                                "solde": {
                                                    "type": "number",
                                                    "example": 500000
                                                },
                                                "devise": {
                                                    "type": "string",
                                                    "example": "FCFA"
                                                },
                                                "dateCreation": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "statut": {
                                                    "type": "string",
                                                    "example": "actif"
                                                },
                                                "metadata": {
                                                    "properties": {
                                                        "derniereModification": {
                                                            "type": "string",
                                                            "format": "date-time"
                                                        },
                                                        "version": {
                                                            "type": "integer",
                                                            "example": 1
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données invalides ou client non trouvé"
                    }
                }
            }
        },
        "/api/v1/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login user",
                "operationId": "da2ca4d7a5cdec77b8b45a20373535cb",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string"
                                    },
                                    "activation_code": {
                                        "description": "Required for first login of new clients",
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "type": "object"
                                                },
                                                "token": {
                                                    "type": "string"
                                                },
                                                "role": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials"
                    }
                }
            }
        },
        "/api/v1/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Logout user",
                "operationId": "c4eddaf1a2e990cc90e4326c0d731d41",
                "responses": {
                    "200": {
                        "description": "Logout successful"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/user": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get authenticated user",
                "operationId": "6804f9f92bfdc4d8fe300f2c5cc35d19",
                "responses": {
                    "200": {
                        "description": "User data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/comptes": {
            "get": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Liste tous les comptes non archivés",
                "description": "Filtre sur le type de compte (épargne, chèque). Exclut tous les comptes bloqués ou fermés du résultat.",
                "operationId": "c09c55b936e3520140768760edfa911e",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "epargne",
                                "cheque"
                            ]
                        }
                    },
                    {
                        "name": "statut",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "sort",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "order",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Liste paginée des comptes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        },
                                        "pagination": {
                                            "properties": {
                                                "currentPage": {
                                                    "type": "integer"
                                                },
                                                "itemsPerPage": {
                                                    "type": "integer"
                                                },
                                                "totalItems": {
                                                    "type": "integer"
                                                },
                                                "totalPages": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Créer un compte bancaire avec client",
                "description": "Crée un utilisateur, un client et un compte bancaire avec validation stricte, génération mot de passe/code, envoi mail/SMS.",
                "operationId": "aa399240cc7c1f272aa92fe6d6b4e162",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "type",
                                    "soldeInitial",
                                    "devise",
                                    "solde",
                                    "client"
                                ],
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "cheque",
                                            "epargne"
                                        ]
                                    },
                                    "soldeInitial": {
                                        "type": "number",
                                        "minimum": 10000
                                    },
                                    "devise": {
                                        "type": "string",
                                        "enum": [
                                            "FCFA",
                                            "XOF"
                                        ]
                                    },
                                    "solde": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "client": {
                                        "required": [
                                            "titulaire",
                                            "email",
                                            "telephone",
                                            "adresse"
                                        ],
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "nullable": true
                                            },
                                            "titulaire": {
                                                "type": "string"
                                            },
                                            "email": {
                                                "type": "string",
                                                "format": "email"
                                            },
                                            "telephone": {
                                                "type": "string",
                                                "pattern": "^\\\\+2217[0-9]{7,8}$"
                                            },
                                            "adresse": {
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Compte créé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte créé avec succès"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "660f9511-f30c-52e5-b827-557766551111"
                                                },
                                                "numeroCompte": {
                                                    "type": "string",
                                                    "example": "C00123460"
                                                },
                                                "titulaire": {
                                                    "type": "string",
                                                    "example": "Cheikh Sy"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "cheque"
                                                },
                                                "solde": {
                                                    "type": "number",
                                                    "example": 500000
                                                },
                                                "devise": {
                                                    "type": "string",
                                                    "example": "FCFA"
                                                },
                                                "dateCreation": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-10-19T10:30:00Z"
                                                },
                                                "statut": {
                                                    "type": "string",
                                                    "example": "actif"
                                                },
                                                "metadata": {
                                                    "properties": {
                                                        "derniereModification": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2025-10-19T10:30:00Z"
                                                        },
                                                        "version": {
                                                            "type": "integer",
                                                            "example": 1
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "error": {
                                            "properties": {
                                                "code": {
                                                    "type": "string",
                                                    "example": "VALIDATION_ERROR"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Les données fournies sont invalides"
                                                },
                                                "details": {
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/comptes/{id}": {
            "put": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Met à jour un compte",
                "operationId": "f1223a554a65c1d20b66f74d721400d6",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "solde": {
                                        "type": "number"
                                    },
                                    "type_compte": {
                                        "type": "string",
                                        "enum": [
                                            "epargne",
                                            "cheque"
                                        ]
                                    },
                                    "statut_compte": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Compte mis à jour",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/comptes/{compteId}": {
            "delete": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Supprime un compte (soft delete)",
                "description": "Marque le compte comme fermé sans le supprimer physiquement de la base de données.",
                "operationId": "7bc9431c9cb3f6c5524d461a5b8d2389",
                "parameters": [
                    {
                        "name": "compteId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Compte supprimé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte supprimé avec succès"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "550e8400-e29b-41d4-a716-446655440000"
                                                },
                                                "numeroCompte": {
                                                    "type": "string",
                                                    "example": "C00123456"
                                                },
                                                "statut": {
                                                    "type": "string",
                                                    "example": "ferme"
                                                },
                                                "dateFermeture": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-10-19T11:15:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Accès non autorisé"
                    },
                    "404": {
                        "description": "Compte introuvable"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "patch": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Mettre à jour les informations d'un compte client",
                "description": "Met à jour partiellement les informations d'un compte existant. Au moins un champ doit être fourni.",
                "operationId": "73d9f9f88d05e826a1ec29388dbc994a",
                "parameters": [
                    {
                        "name": "compteId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "titulaire": {
                                        "type": "string",
                                        "example": "Amadou Diallo Junior"
                                    },
                                    "informationsClient": {
                                        "properties": {
                                            "telephone": {
                                                "type": "string",
                                                "example": "+221771234568"
                                            },
                                            "email": {
                                                "type": "string",
                                                "format": "email",
                                                "example": "amadou.diallo@example.com"
                                            },
                                            "password": {
                                                "type": "string",
                                                "example": "MyP@ssw0rd!"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Compte mis à jour avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Compte mis à jour avec succès"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "550e8400-e29b-41d4-a716-446655440000"
                                                },
                                                "numeroCompte": {
                                                    "type": "string",
                                                    "example": "C00123456"
                                                },
                                                "titulaire": {
                                                    "type": "string",
                                                    "example": "Amadou Diallo Junior"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "epargne"
                                                },
                                                "solde": {
                                                    "type": "number",
                                                    "example": 1250000
                                                },
                                                "devise": {
                                                    "type": "string",
                                                    "example": "FCFA"
                                                },
                                                "dateCreation": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "statut": {
                                                    "type": "string",
                                                    "example": "bloque"
                                                },
                                                "metadata": {
                                                    "properties": {
                                                        "derniereModification": {
                                                            "type": "string",
                                                            "format": "date-time"
                                                        },
                                                        "version": {
                                                            "type": "integer",
                                                            "example": 1
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Accès non autorisé"
                    },
                    "404": {
                        "description": "Compte introuvable"
                    },
                    "422": {
                        "description": "Données invalides"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/comptes/{id}/desarchive": {
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Désarchive un compte",
                "description": "Désarchivage : seuls les comptes épargne bloqués dont la date de fin de blocage est échue peuvent être désarchivés. Le désarchivage est exécuté via un job Laravel automatique.",
                "operationId": "de2f4494f103574940865a8cf2b0da1e",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Compte désarchivé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/comptes/{id}/debloquer": {
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Débloque un compte",
                "description": "Remet le statut du compte à actif et supprime les dates de blocage.",
                "operationId": "6c69a30ee5e1ee922d187f62139f1db7",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Compte débloqué",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/comptes/mes-comptes": {
            "get": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Liste les comptes du client connecté",
                "operationId": "b31be0308e2c506b146a6b97f3076020",
                "responses": {
                    "200": {
                        "description": "Liste des comptes du client",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/comptes/{numero}": {
            "get": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Détail d'un compte par numéro",
                "description": "Pour les comptes épargne, affiche aussi la date de début et la date de fin de blocage. Si le compte épargne est archivé, récupère ses informations depuis la base Neon distante.",
                "operationId": "0210219b689fdc768ead8c77093b3cc2",
                "parameters": [
                    {
                        "name": "numero",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Détail du compte",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/comptes/{id}/archive": {
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Archive un compte (marquage comme archived)",
                "description": "Archivage : seuls les comptes épargne bloqués dont la date de début de blocage est échue peuvent être archivés. L'archivage est exécuté via un job Laravel automatique.",
                "operationId": "8c763ef360df322806802fd6b96270cc",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Compte marqué pour archivage"
                    }
                }
            }
        },
        "/api/v1/comptes/{compte}/bloquer": {
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Bloquer un compte épargne",
                "description": "Enregistre la date de début du blocage, le motif et le statut. Seuls les comptes épargne actifs peuvent être bloqués. Après blocage, affiche les informations de blocage.",
                "operationId": "3f7890e2dfe682647db73c13ac149934",
                "parameters": [
                    {
                        "name": "compte",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "date_debut_blocage",
                                    "date_fin_blocage",
                                    "motif_blocage"
                                ],
                                "properties": {
                                    "date_debut_blocage": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-10-25"
                                    },
                                    "date_fin_blocage": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-10-28"
                                    },
                                    "motif_blocage": {
                                        "type": "string",
                                        "example": "Suspicion de fraude"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Données de blocage enregistrées",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/comptes/numero/{numero}/bloquer": {
            "post": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Bloquer un compte épargne par numéro",
                "description": "Enregistre la date de début du blocage, le motif et le statut. Seuls les comptes épargne actifs peuvent être bloqués.",
                "operationId": "2d2616b636c938eb35092730025faaa3",
                "parameters": [
                    {
                        "name": "numero",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "date_debut_blocage",
                                    "date_fin_blocage",
                                    "motif_blocage"
                                ],
                                "properties": {
                                    "date_debut_blocage": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-10-25"
                                    },
                                    "date_fin_blocage": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-10-28"
                                    },
                                    "motif_blocage": {
                                        "type": "string",
                                        "example": "Suspicion de fraude"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Données de blocage enregistrées",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/comptes/{numeroCompte}": {
            "get": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Récupère un compte par son numéro",
                "description": "Pour les comptes épargne, affiche aussi la date de début et la date de fin de blocage. Si le compte épargne est archivé, récupère ses informations depuis la base Neon distante.",
                "operationId": "9673d32b11dd1b8765e285779e7dcee9",
                "parameters": [
                    {
                        "name": "numeroCompte",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Compte récupéré",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/comptes-archives": {
            "get": {
                "tags": [
                    "Comptes"
                ],
                "summary": "Liste des comptes archivés",
                "description": "Liste tous les comptes épargne archivés (lecture seule).",
                "operationId": "c167a7d156071c43d17485d696a2890f",
                "responses": {
                    "200": {
                        "description": "Liste des comptes archivés",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        }
    },
    "tags": [
        {
            "name": "Authentication",
            "description": "Authentication endpoints"
        },
        {
            "name": "Comptes",
            "description": "Comptes"
        }
    ]
}